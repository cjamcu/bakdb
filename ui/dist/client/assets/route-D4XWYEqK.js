import{r as u,j as c}from"./router-0uN5aety.js";import{B as we}from"./button-B296d654.js";import{L as Oe,I as De}from"./label-gcoyWlSz.js";import{c as xo,V as yo,a as vo,b as wo,d as bo,e as So,R as Co,u as To}from"./index-DcrkbulK.js";import{r as Tt,p as Po,q as Ro,t as Ao,v as Eo,F as No}from"./components-BFRM7CUx.js";import{e as Q,c as Pt,a as Jt,b as U,D as Zt,u as pt,d as jo,P as Oo}from"./index-BJT6Mi-p.js";import{u as G,S as Do,c as ie,b as Io}from"./utils-BAO6HRzK.js";import{h as _o,u as ko,R as Mo,F as Lo,a as et,A as $o,T as Ho}from"./index-DmaFZOmD.js";import{P as Y}from"./index-CJOOd4Gm.js";import{C as Lt,a as $t,b as Ht,d as Bt}from"./card-BUhaSKxx.js";import{r as Bo}from"./requireAuth-BROCRZK-.js";import{b as Vo,p as Fo}from"./pocketbase-BwiBgDV-.js";import{c as Rt}from"./createLucideIcon-luw-QPq7.js";import{r as Wo}from"./responses-BDgPukry.js";import{D as zo}from"./database-BJ0OeOBJ.js";/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=Rt("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=Rt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=Rt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);function Vt(e,[t,n]){return Math.min(n,Math.max(t,e))}var Yo=u.createContext(void 0);function Go(e){const t=u.useContext(Yo);return e||t||"ltr"}const Xo=["top","right","bottom","left"],oe=Math.min,J=Math.max,Ge=Math.round,Fe=Math.floor,ue=e=>({x:e,y:e}),Jo={left:"right",right:"left",bottom:"top",top:"bottom"},Zo={start:"end",end:"start"};function mt(e,t,n){return J(e,oe(t,n))}function ae(e,t){return typeof e=="function"?e(t):e}function le(e){return e.split("-")[0]}function Te(e){return e.split("-")[1]}function At(e){return e==="x"?"y":"x"}function Et(e){return e==="y"?"height":"width"}function fe(e){return["top","bottom"].includes(le(e))?"y":"x"}function Nt(e){return At(fe(e))}function Qo(e,t,n){n===void 0&&(n=!1);const o=Te(e),r=Nt(e),i=Et(r);let s=r==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=Xe(s)),[s,Xe(s)]}function er(e){const t=Xe(e);return[ht(e),t,ht(t)]}function ht(e){return e.replace(/start|end/g,t=>Zo[t])}function tr(e,t,n){const o=["left","right"],r=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?r:o:t?o:r;case"left":case"right":return t?i:s;default:return[]}}function nr(e,t,n,o){const r=Te(e);let i=tr(le(e),n==="start",o);return r&&(i=i.map(s=>s+"-"+r),t&&(i=i.concat(i.map(ht)))),i}function Xe(e){return e.replace(/left|right|bottom|top/g,t=>Jo[t])}function or(e){return{top:0,right:0,bottom:0,left:0,...e}}function Qt(e){return typeof e!="number"?or(e):{top:e,right:e,bottom:e,left:e}}function Je(e){const{x:t,y:n,width:o,height:r}=e;return{width:o,height:r,top:n,left:t,right:t+o,bottom:n+r,x:t,y:n}}function Ft(e,t,n){let{reference:o,floating:r}=e;const i=fe(t),s=Nt(t),l=Et(s),a=le(t),d=i==="y",f=o.x+o.width/2-r.width/2,p=o.y+o.height/2-r.height/2,v=o[l]/2-r[l]/2;let h;switch(a){case"top":h={x:f,y:o.y-r.height};break;case"bottom":h={x:f,y:o.y+o.height};break;case"right":h={x:o.x+o.width,y:p};break;case"left":h={x:o.x-r.width,y:p};break;default:h={x:o.x,y:o.y}}switch(Te(t)){case"start":h[s]-=v*(n&&d?-1:1);break;case"end":h[s]+=v*(n&&d?-1:1);break}return h}const rr=async(e,t,n)=>{const{placement:o="bottom",strategy:r="absolute",middleware:i=[],platform:s}=n,l=i.filter(Boolean),a=await(s.isRTL==null?void 0:s.isRTL(t));let d=await s.getElementRects({reference:e,floating:t,strategy:r}),{x:f,y:p}=Ft(d,o,a),v=o,h={},m=0;for(let x=0;x<l.length;x++){const{name:C,fn:g}=l[x],{x:y,y:S,data:R,reset:P}=await g({x:f,y:p,initialPlacement:o,placement:v,strategy:r,middlewareData:h,rects:d,platform:s,elements:{reference:e,floating:t}});f=y??f,p=S??p,h={...h,[C]:{...h[C],...R}},P&&m<=50&&(m++,typeof P=="object"&&(P.placement&&(v=P.placement),P.rects&&(d=P.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:r}):P.rects),{x:f,y:p}=Ft(d,v,a)),x=-1)}return{x:f,y:p,placement:v,strategy:r,middlewareData:h}};async function Le(e,t){var n;t===void 0&&(t={});const{x:o,y:r,platform:i,rects:s,elements:l,strategy:a}=e,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:v=!1,padding:h=0}=ae(t,e),m=Qt(h),C=l[v?p==="floating"?"reference":"floating":p],g=Je(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(C)))==null||n?C:C.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:a})),y=p==="floating"?{x:o,y:r,width:s.floating.width,height:s.floating.height}:s.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),R=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},P=Je(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:S,strategy:a}):y);return{top:(g.top-P.top+m.top)/R.y,bottom:(P.bottom-g.bottom+m.bottom)/R.y,left:(g.left-P.left+m.left)/R.x,right:(P.right-g.right+m.right)/R.x}}const sr=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:o,placement:r,rects:i,platform:s,elements:l,middlewareData:a}=t,{element:d,padding:f=0}=ae(e,t)||{};if(d==null)return{};const p=Qt(f),v={x:n,y:o},h=Nt(r),m=Et(h),x=await s.getDimensions(d),C=h==="y",g=C?"top":"left",y=C?"bottom":"right",S=C?"clientHeight":"clientWidth",R=i.reference[m]+i.reference[h]-v[h]-i.floating[m],P=v[h]-i.reference[h],E=await(s.getOffsetParent==null?void 0:s.getOffsetParent(d));let j=E?E[S]:0;(!j||!await(s.isElement==null?void 0:s.isElement(E)))&&(j=l.floating[S]||i.floating[m]);const D=R/2-P/2,z=j/2-x[m]/2-1,H=oe(p[g],z),B=oe(p[y],z),_=H,F=j-x[m]-B,I=j/2-x[m]/2+D,O=mt(_,I,F),b=!a.arrow&&Te(r)!=null&&I!==O&&i.reference[m]/2-(I<_?H:B)-x[m]/2<0,w=b?I<_?I-_:I-F:0;return{[h]:v[h]+w,data:{[h]:O,centerOffset:I-O-w,...b&&{alignmentOffset:w}},reset:b}}}),ir=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,o;const{placement:r,middlewareData:i,rects:s,initialPlacement:l,platform:a,elements:d}=t,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:v,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:x=!0,...C}=ae(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const g=le(r),y=fe(l),S=le(l)===l,R=await(a.isRTL==null?void 0:a.isRTL(d.floating)),P=v||(S||!x?[Xe(l)]:er(l)),E=m!=="none";!v&&E&&P.push(...nr(l,x,m,R));const j=[l,...P],D=await Le(t,C),z=[];let H=((o=i.flip)==null?void 0:o.overflows)||[];if(f&&z.push(D[g]),p){const I=Qo(r,s,R);z.push(D[I[0]],D[I[1]])}if(H=[...H,{placement:r,overflows:z}],!z.every(I=>I<=0)){var B,_;const I=(((B=i.flip)==null?void 0:B.index)||0)+1,O=j[I];if(O)return{data:{index:I,overflows:H},reset:{placement:O}};let b=(_=H.filter(w=>w.overflows[0]<=0).sort((w,A)=>w.overflows[1]-A.overflows[1])[0])==null?void 0:_.placement;if(!b)switch(h){case"bestFit":{var F;const w=(F=H.filter(A=>{if(E){const T=fe(A.placement);return T===y||T==="y"}return!0}).map(A=>[A.placement,A.overflows.filter(T=>T>0).reduce((T,$)=>T+$,0)]).sort((A,T)=>A[1]-T[1])[0])==null?void 0:F[0];w&&(b=w);break}case"initialPlacement":b=l;break}if(r!==b)return{reset:{placement:b}}}return{}}}};function Wt(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function zt(e){return Xo.some(t=>e[t]>=0)}const ar=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:o="referenceHidden",...r}=ae(e,t);switch(o){case"referenceHidden":{const i=await Le(t,{...r,elementContext:"reference"}),s=Wt(i,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:zt(s)}}}case"escaped":{const i=await Le(t,{...r,altBoundary:!0}),s=Wt(i,n.floating);return{data:{escapedOffsets:s,escaped:zt(s)}}}default:return{}}}}};async function lr(e,t){const{placement:n,platform:o,elements:r}=e,i=await(o.isRTL==null?void 0:o.isRTL(r.floating)),s=le(n),l=Te(n),a=fe(n)==="y",d=["left","top"].includes(s)?-1:1,f=i&&a?-1:1,p=ae(t,e);let{mainAxis:v,crossAxis:h,alignmentAxis:m}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...p};return l&&typeof m=="number"&&(h=l==="end"?m*-1:m),a?{x:h*f,y:v*d}:{x:v*d,y:h*f}}const cr=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,o;const{x:r,y:i,placement:s,middlewareData:l}=t,a=await lr(t,e);return s===((n=l.offset)==null?void 0:n.placement)&&(o=l.arrow)!=null&&o.alignmentOffset?{}:{x:r+a.x,y:i+a.y,data:{...a,placement:s}}}}},dr=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:o,placement:r}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:l={fn:C=>{let{x:g,y}=C;return{x:g,y}}},...a}=ae(e,t),d={x:n,y:o},f=await Le(t,a),p=fe(le(r)),v=At(p);let h=d[v],m=d[p];if(i){const C=v==="y"?"top":"left",g=v==="y"?"bottom":"right",y=h+f[C],S=h-f[g];h=mt(y,h,S)}if(s){const C=p==="y"?"top":"left",g=p==="y"?"bottom":"right",y=m+f[C],S=m-f[g];m=mt(y,m,S)}const x=l.fn({...t,[v]:h,[p]:m});return{...x,data:{x:x.x-n,y:x.y-o}}}}},ur=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:o,placement:r,rects:i,middlewareData:s}=t,{offset:l=0,mainAxis:a=!0,crossAxis:d=!0}=ae(e,t),f={x:n,y:o},p=fe(r),v=At(p);let h=f[v],m=f[p];const x=ae(l,t),C=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(a){const S=v==="y"?"height":"width",R=i.reference[v]-i.floating[S]+C.mainAxis,P=i.reference[v]+i.reference[S]-C.mainAxis;h<R?h=R:h>P&&(h=P)}if(d){var g,y;const S=v==="y"?"width":"height",R=["top","left"].includes(le(r)),P=i.reference[p]-i.floating[S]+(R&&((g=s.offset)==null?void 0:g[p])||0)+(R?0:C.crossAxis),E=i.reference[p]+i.reference[S]+(R?0:((y=s.offset)==null?void 0:y[p])||0)-(R?C.crossAxis:0);m<P?m=P:m>E&&(m=E)}return{[v]:h,[p]:m}}}},fr=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:o,platform:r,elements:i}=t,{apply:s=()=>{},...l}=ae(e,t),a=await Le(t,l),d=le(n),f=Te(n),p=fe(n)==="y",{width:v,height:h}=o.floating;let m,x;d==="top"||d==="bottom"?(m=d,x=f===(await(r.isRTL==null?void 0:r.isRTL(i.floating))?"start":"end")?"left":"right"):(x=d,m=f==="end"?"top":"bottom");const C=h-a.top-a.bottom,g=v-a.left-a.right,y=oe(h-a[m],C),S=oe(v-a[x],g),R=!t.middlewareData.shift;let P=y,E=S;if(p?E=f||R?oe(S,g):g:P=f||R?oe(y,C):C,R&&!f){const D=J(a.left,0),z=J(a.right,0),H=J(a.top,0),B=J(a.bottom,0);p?E=v-2*(D!==0||z!==0?D+z:J(a.left,a.right)):P=h-2*(H!==0||B!==0?H+B:J(a.top,a.bottom))}await s({...t,availableWidth:E,availableHeight:P});const j=await r.getDimensions(i.floating);return v!==j.width||h!==j.height?{reset:{rects:!0}}:{}}}};function Pe(e){return en(e)?(e.nodeName||"").toLowerCase():"#document"}function Z(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ce(e){var t;return(t=(en(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function en(e){return e instanceof Node||e instanceof Z(e).Node}function ee(e){return e instanceof Element||e instanceof Z(e).Element}function re(e){return e instanceof HTMLElement||e instanceof Z(e).HTMLElement}function qt(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Z(e).ShadowRoot}function He(e){const{overflow:t,overflowX:n,overflowY:o,display:r}=te(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+n)&&!["inline","contents"].includes(r)}function pr(e){return["table","td","th"].includes(Pe(e))}function tt(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function jt(e){const t=Ot(),n=ee(e)?te(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function mr(e){let t=pe(e);for(;re(t)&&!Se(t);){if(jt(t))return t;if(tt(t))return null;t=pe(t)}return null}function Ot(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Se(e){return["html","body","#document"].includes(Pe(e))}function te(e){return Z(e).getComputedStyle(e)}function nt(e){return ee(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function pe(e){if(Pe(e)==="html")return e;const t=e.assignedSlot||e.parentNode||qt(e)&&e.host||ce(e);return qt(t)?t.host:t}function tn(e){const t=pe(e);return Se(t)?e.ownerDocument?e.ownerDocument.body:e.body:re(t)&&He(t)?t:tn(t)}function $e(e,t,n){var o;t===void 0&&(t=[]),n===void 0&&(n=!0);const r=tn(e),i=r===((o=e.ownerDocument)==null?void 0:o.body),s=Z(r);if(i){const l=gt(s);return t.concat(s,s.visualViewport||[],He(r)?r:[],l&&n?$e(l):[])}return t.concat(r,$e(r,[],n))}function gt(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function nn(e){const t=te(e);let n=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const r=re(e),i=r?e.offsetWidth:n,s=r?e.offsetHeight:o,l=Ge(n)!==i||Ge(o)!==s;return l&&(n=i,o=s),{width:n,height:o,$:l}}function Dt(e){return ee(e)?e:e.contextElement}function be(e){const t=Dt(e);if(!re(t))return ue(1);const n=t.getBoundingClientRect(),{width:o,height:r,$:i}=nn(t);let s=(i?Ge(n.width):n.width)/o,l=(i?Ge(n.height):n.height)/r;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const hr=ue(0);function on(e){const t=Z(e);return!Ot()||!t.visualViewport?hr:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function gr(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Z(e)?!1:t}function xe(e,t,n,o){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=Dt(e);let s=ue(1);t&&(o?ee(o)&&(s=be(o)):s=be(e));const l=gr(i,n,o)?on(i):ue(0);let a=(r.left+l.x)/s.x,d=(r.top+l.y)/s.y,f=r.width/s.x,p=r.height/s.y;if(i){const v=Z(i),h=o&&ee(o)?Z(o):o;let m=v,x=gt(m);for(;x&&o&&h!==m;){const C=be(x),g=x.getBoundingClientRect(),y=te(x),S=g.left+(x.clientLeft+parseFloat(y.paddingLeft))*C.x,R=g.top+(x.clientTop+parseFloat(y.paddingTop))*C.y;a*=C.x,d*=C.y,f*=C.x,p*=C.y,a+=S,d+=R,m=Z(x),x=gt(m)}}return Je({width:f,height:p,x:a,y:d})}function xr(e){let{elements:t,rect:n,offsetParent:o,strategy:r}=e;const i=r==="fixed",s=ce(o),l=t?tt(t.floating):!1;if(o===s||l&&i)return n;let a={scrollLeft:0,scrollTop:0},d=ue(1);const f=ue(0),p=re(o);if((p||!p&&!i)&&((Pe(o)!=="body"||He(s))&&(a=nt(o)),re(o))){const v=xe(o);d=be(o),f.x=v.x+o.clientLeft,f.y=v.y+o.clientTop}return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-a.scrollLeft*d.x+f.x,y:n.y*d.y-a.scrollTop*d.y+f.y}}function yr(e){return Array.from(e.getClientRects())}function rn(e){return xe(ce(e)).left+nt(e).scrollLeft}function vr(e){const t=ce(e),n=nt(e),o=e.ownerDocument.body,r=J(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),i=J(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let s=-n.scrollLeft+rn(e);const l=-n.scrollTop;return te(o).direction==="rtl"&&(s+=J(t.clientWidth,o.clientWidth)-r),{width:r,height:i,x:s,y:l}}function wr(e,t){const n=Z(e),o=ce(e),r=n.visualViewport;let i=o.clientWidth,s=o.clientHeight,l=0,a=0;if(r){i=r.width,s=r.height;const d=Ot();(!d||d&&t==="fixed")&&(l=r.offsetLeft,a=r.offsetTop)}return{width:i,height:s,x:l,y:a}}function br(e,t){const n=xe(e,!0,t==="fixed"),o=n.top+e.clientTop,r=n.left+e.clientLeft,i=re(e)?be(e):ue(1),s=e.clientWidth*i.x,l=e.clientHeight*i.y,a=r*i.x,d=o*i.y;return{width:s,height:l,x:a,y:d}}function Ut(e,t,n){let o;if(t==="viewport")o=wr(e,n);else if(t==="document")o=vr(ce(e));else if(ee(t))o=br(t,n);else{const r=on(e);o={...t,x:t.x-r.x,y:t.y-r.y}}return Je(o)}function sn(e,t){const n=pe(e);return n===t||!ee(n)||Se(n)?!1:te(n).position==="fixed"||sn(n,t)}function Sr(e,t){const n=t.get(e);if(n)return n;let o=$e(e,[],!1).filter(l=>ee(l)&&Pe(l)!=="body"),r=null;const i=te(e).position==="fixed";let s=i?pe(e):e;for(;ee(s)&&!Se(s);){const l=te(s),a=jt(s);!a&&l.position==="fixed"&&(r=null),(i?!a&&!r:!a&&l.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||He(s)&&!a&&sn(e,s))?o=o.filter(f=>f!==s):r=l,s=pe(s)}return t.set(e,o),o}function Cr(e){let{element:t,boundary:n,rootBoundary:o,strategy:r}=e;const s=[...n==="clippingAncestors"?tt(t)?[]:Sr(t,this._c):[].concat(n),o],l=s[0],a=s.reduce((d,f)=>{const p=Ut(t,f,r);return d.top=J(p.top,d.top),d.right=oe(p.right,d.right),d.bottom=oe(p.bottom,d.bottom),d.left=J(p.left,d.left),d},Ut(t,l,r));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function Tr(e){const{width:t,height:n}=nn(e);return{width:t,height:n}}function Pr(e,t,n){const o=re(t),r=ce(t),i=n==="fixed",s=xe(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const a=ue(0);if(o||!o&&!i)if((Pe(t)!=="body"||He(r))&&(l=nt(t)),o){const p=xe(t,!0,i,t);a.x=p.x+t.clientLeft,a.y=p.y+t.clientTop}else r&&(a.x=rn(r));const d=s.left+l.scrollLeft-a.x,f=s.top+l.scrollTop-a.y;return{x:d,y:f,width:s.width,height:s.height}}function ut(e){return te(e).position==="static"}function Kt(e,t){return!re(e)||te(e).position==="fixed"?null:t?t(e):e.offsetParent}function an(e,t){const n=Z(e);if(tt(e))return n;if(!re(e)){let r=pe(e);for(;r&&!Se(r);){if(ee(r)&&!ut(r))return r;r=pe(r)}return n}let o=Kt(e,t);for(;o&&pr(o)&&ut(o);)o=Kt(o,t);return o&&Se(o)&&ut(o)&&!jt(o)?n:o||mr(e)||n}const Rr=async function(e){const t=this.getOffsetParent||an,n=this.getDimensions,o=await n(e.floating);return{reference:Pr(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function Ar(e){return te(e).direction==="rtl"}const Er={convertOffsetParentRelativeRectToViewportRelativeRect:xr,getDocumentElement:ce,getClippingRect:Cr,getOffsetParent:an,getElementRects:Rr,getClientRects:yr,getDimensions:Tr,getScale:be,isElement:ee,isRTL:Ar};function Nr(e,t){let n=null,o;const r=ce(e);function i(){var l;clearTimeout(o),(l=n)==null||l.disconnect(),n=null}function s(l,a){l===void 0&&(l=!1),a===void 0&&(a=1),i();const{left:d,top:f,width:p,height:v}=e.getBoundingClientRect();if(l||t(),!p||!v)return;const h=Fe(f),m=Fe(r.clientWidth-(d+p)),x=Fe(r.clientHeight-(f+v)),C=Fe(d),y={rootMargin:-h+"px "+-m+"px "+-x+"px "+-C+"px",threshold:J(0,oe(1,a))||1};let S=!0;function R(P){const E=P[0].intersectionRatio;if(E!==a){if(!S)return s();E?s(!1,E):o=setTimeout(()=>{s(!1,1e-7)},1e3)}S=!1}try{n=new IntersectionObserver(R,{...y,root:r.ownerDocument})}catch{n=new IntersectionObserver(R,y)}n.observe(e)}return s(!0),i}function jr(e,t,n,o){o===void 0&&(o={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:a=!1}=o,d=Dt(e),f=r||i?[...d?$e(d):[],...$e(t)]:[];f.forEach(g=>{r&&g.addEventListener("scroll",n,{passive:!0}),i&&g.addEventListener("resize",n)});const p=d&&l?Nr(d,n):null;let v=-1,h=null;s&&(h=new ResizeObserver(g=>{let[y]=g;y&&y.target===d&&h&&(h.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var S;(S=h)==null||S.observe(t)})),n()}),d&&!a&&h.observe(d),h.observe(t));let m,x=a?xe(e):null;a&&C();function C(){const g=xe(e);x&&(g.x!==x.x||g.y!==x.y||g.width!==x.width||g.height!==x.height)&&n(),x=g,m=requestAnimationFrame(C)}return n(),()=>{var g;f.forEach(y=>{r&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),p==null||p(),(g=h)==null||g.disconnect(),h=null,a&&cancelAnimationFrame(m)}}const Or=cr,Dr=dr,Ir=ir,_r=fr,kr=ar,Yt=sr,Mr=ur,Lr=(e,t,n)=>{const o=new Map,r={platform:Er,...n},i={...r.platform,_c:o};return rr(e,t,{...r,platform:i})};var Ye=typeof document<"u"?u.useLayoutEffect:u.useEffect;function Ze(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,o,r;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(o=n;o--!==0;)if(!Ze(e[o],t[o]))return!1;return!0}if(r=Object.keys(e),n=r.length,n!==Object.keys(t).length)return!1;for(o=n;o--!==0;)if(!{}.hasOwnProperty.call(t,r[o]))return!1;for(o=n;o--!==0;){const i=r[o];if(!(i==="_owner"&&e.$$typeof)&&!Ze(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function ln(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Gt(e,t){const n=ln(e);return Math.round(t*n)/n}function Xt(e){const t=u.useRef(e);return Ye(()=>{t.current=e}),t}function $r(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:o=[],platform:r,elements:{reference:i,floating:s}={},transform:l=!0,whileElementsMounted:a,open:d}=e,[f,p]=u.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[v,h]=u.useState(o);Ze(v,o)||h(o);const[m,x]=u.useState(null),[C,g]=u.useState(null),y=u.useCallback(w=>{w!==E.current&&(E.current=w,x(w))},[]),S=u.useCallback(w=>{w!==j.current&&(j.current=w,g(w))},[]),R=i||m,P=s||C,E=u.useRef(null),j=u.useRef(null),D=u.useRef(f),z=a!=null,H=Xt(a),B=Xt(r),_=u.useCallback(()=>{if(!E.current||!j.current)return;const w={placement:t,strategy:n,middleware:v};B.current&&(w.platform=B.current),Lr(E.current,j.current,w).then(A=>{const T={...A,isPositioned:!0};F.current&&!Ze(D.current,T)&&(D.current=T,Tt.flushSync(()=>{p(T)}))})},[v,t,n,B]);Ye(()=>{d===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,p(w=>({...w,isPositioned:!1})))},[d]);const F=u.useRef(!1);Ye(()=>(F.current=!0,()=>{F.current=!1}),[]),Ye(()=>{if(R&&(E.current=R),P&&(j.current=P),R&&P){if(H.current)return H.current(R,P,_);_()}},[R,P,_,H,z]);const I=u.useMemo(()=>({reference:E,floating:j,setReference:y,setFloating:S}),[y,S]),O=u.useMemo(()=>({reference:R,floating:P}),[R,P]),b=u.useMemo(()=>{const w={position:n,left:0,top:0};if(!O.floating)return w;const A=Gt(O.floating,f.x),T=Gt(O.floating,f.y);return l?{...w,transform:"translate("+A+"px, "+T+"px)",...ln(O.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:A,top:T}},[n,l,O.floating,f.x,f.y]);return u.useMemo(()=>({...f,update:_,refs:I,elements:O,floatingStyles:b}),[f,_,I,O,b])}const Hr=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:o,padding:r}=typeof e=="function"?e(n):e;return o&&t(o)?o.current!=null?Yt({element:o.current,padding:r}).fn(n):{}:o?Yt({element:o,padding:r}).fn(n):{}}}},Br=(e,t)=>({...Or(e),options:[e,t]}),Vr=(e,t)=>({...Dr(e),options:[e,t]}),Fr=(e,t)=>({...Mr(e),options:[e,t]}),Wr=(e,t)=>({...Ir(e),options:[e,t]}),zr=(e,t)=>({..._r(e),options:[e,t]}),qr=(e,t)=>({...kr(e),options:[e,t]}),Ur=(e,t)=>({...Hr(e),options:[e,t]});var Kr="Arrow",cn=u.forwardRef((e,t)=>{const{children:n,width:o=10,height:r=5,...i}=e;return c.jsx(Y.svg,{...i,ref:t,width:o,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});cn.displayName=Kr;var Yr=cn;function Gr(e){const[t,n]=u.useState(void 0);return Q(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const o=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const i=r[0];let s,l;if("borderBoxSize"in i){const a=i.borderBoxSize,d=Array.isArray(a)?a[0]:a;s=d.inlineSize,l=d.blockSize}else s=e.offsetWidth,l=e.offsetHeight;n({width:s,height:l})});return o.observe(e,{box:"border-box"}),()=>o.unobserve(e)}else n(void 0)},[e]),t}var It="Popper",[dn,ot]=Pt(It),[Xr,un]=dn(It),fn=e=>{const{__scopePopper:t,children:n}=e,[o,r]=u.useState(null);return c.jsx(Xr,{scope:t,anchor:o,onAnchorChange:r,children:n})};fn.displayName=It;var pn="PopperAnchor",mn=u.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:o,...r}=e,i=un(pn,n),s=u.useRef(null),l=G(t,s);return u.useEffect(()=>{i.onAnchorChange((o==null?void 0:o.current)||s.current)}),o?null:c.jsx(Y.div,{...r,ref:l})});mn.displayName=pn;var _t="PopperContent",[Jr,Zr]=dn(_t),hn=u.forwardRef((e,t)=>{var N,W,K,V,M,L;const{__scopePopper:n,side:o="bottom",sideOffset:r=0,align:i="center",alignOffset:s=0,arrowPadding:l=0,avoidCollisions:a=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:p="partial",hideWhenDetached:v=!1,updatePositionStrategy:h="optimized",onPlaced:m,...x}=e,C=un(_t,n),[g,y]=u.useState(null),S=G(t,X=>y(X)),[R,P]=u.useState(null),E=Gr(R),j=(E==null?void 0:E.width)??0,D=(E==null?void 0:E.height)??0,z=o+(i!=="center"?"-"+i:""),H=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},B=Array.isArray(d)?d:[d],_=B.length>0,F={padding:H,boundary:B.filter(es),altBoundary:_},{refs:I,floatingStyles:O,placement:b,isPositioned:w,middlewareData:A}=$r({strategy:"fixed",placement:z,whileElementsMounted:(...X)=>jr(...X,{animationFrame:h==="always"}),elements:{reference:C.anchor},middleware:[Br({mainAxis:r+D,alignmentAxis:s}),a&&Vr({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?Fr():void 0,...F}),a&&Wr({...F}),zr({...F,apply:({elements:X,rects:ne,availableWidth:Ee,availableHeight:Ne})=>{const{width:je,height:go}=ne.reference,Ve=X.floating.style;Ve.setProperty("--radix-popper-available-width",`${Ee}px`),Ve.setProperty("--radix-popper-available-height",`${Ne}px`),Ve.setProperty("--radix-popper-anchor-width",`${je}px`),Ve.setProperty("--radix-popper-anchor-height",`${go}px`)}}),R&&Ur({element:R,padding:l}),ts({arrowWidth:j,arrowHeight:D}),v&&qr({strategy:"referenceHidden",...F})]}),[T,$]=yn(b),k=Jt(m);Q(()=>{w&&(k==null||k())},[w,k]);const q=(N=A.arrow)==null?void 0:N.x,Ae=(W=A.arrow)==null?void 0:W.y,de=((K=A.arrow)==null?void 0:K.centerOffset)!==0,[ve,ge]=u.useState();return Q(()=>{g&&ge(window.getComputedStyle(g).zIndex)},[g]),c.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...O,transform:w?O.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ve,"--radix-popper-transform-origin":[(V=A.transformOrigin)==null?void 0:V.x,(M=A.transformOrigin)==null?void 0:M.y].join(" "),...((L=A.hide)==null?void 0:L.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:c.jsx(Jr,{scope:n,placedSide:T,onArrowChange:P,arrowX:q,arrowY:Ae,shouldHideArrow:de,children:c.jsx(Y.div,{"data-side":T,"data-align":$,...x,ref:S,style:{...x.style,animation:w?void 0:"none"}})})})});hn.displayName=_t;var gn="PopperArrow",Qr={top:"bottom",right:"left",bottom:"top",left:"right"},xn=u.forwardRef(function(t,n){const{__scopePopper:o,...r}=t,i=Zr(gn,o),s=Qr[i.placedSide];return c.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:c.jsx(Yr,{...r,ref:n,style:{...r.style,display:"block"}})})});xn.displayName=gn;function es(e){return e!==null}var ts=e=>({name:"transformOrigin",options:e,fn(t){var C,g,y;const{placement:n,rects:o,middlewareData:r}=t,s=((C=r.arrow)==null?void 0:C.centerOffset)!==0,l=s?0:e.arrowWidth,a=s?0:e.arrowHeight,[d,f]=yn(n),p={start:"0%",center:"50%",end:"100%"}[f],v=(((g=r.arrow)==null?void 0:g.x)??0)+l/2,h=(((y=r.arrow)==null?void 0:y.y)??0)+a/2;let m="",x="";return d==="bottom"?(m=s?p:`${v}px`,x=`${-a}px`):d==="top"?(m=s?p:`${v}px`,x=`${o.floating.height+a}px`):d==="right"?(m=`${-a}px`,x=s?p:`${h}px`):d==="left"&&(m=`${o.floating.width+a}px`,x=s?p:`${h}px`),{data:{x:m,y:x}}}});function yn(e){const[t,n="center"]=e.split("-");return[t,n]}var vn=fn,wn=mn,bn=hn,Sn=xn;function ns(e){const t=u.useRef({value:e,previous:e});return u.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var os=[" ","Enter","ArrowUp","ArrowDown"],rs=[" ","Enter"],Be="Select",[rt,st,ss]=xo(Be),[Re,pi]=Pt(Be,[ss,ot]),it=ot(),[is,me]=Re(Be),[as,ls]=Re(Be),Cn=e=>{const{__scopeSelect:t,children:n,open:o,defaultOpen:r,onOpenChange:i,value:s,defaultValue:l,onValueChange:a,dir:d,name:f,autoComplete:p,disabled:v,required:h}=e,m=it(t),[x,C]=u.useState(null),[g,y]=u.useState(null),[S,R]=u.useState(!1),P=Go(d),[E=!1,j]=pt({prop:o,defaultProp:r,onChange:i}),[D,z]=pt({prop:s,defaultProp:l,onChange:a}),H=u.useRef(null),B=x?!!x.closest("form"):!0,[_,F]=u.useState(new Set),I=Array.from(_).map(O=>O.props.value).join(";");return c.jsx(vn,{...m,children:c.jsxs(is,{required:h,scope:t,trigger:x,onTriggerChange:C,valueNode:g,onValueNodeChange:y,valueNodeHasChildren:S,onValueNodeHasChildrenChange:R,contentId:et(),value:D,onValueChange:z,open:E,onOpenChange:j,dir:P,triggerPointerDownPosRef:H,disabled:v,children:[c.jsx(rt.Provider,{scope:t,children:c.jsx(as,{scope:e.__scopeSelect,onNativeOptionAdd:u.useCallback(O=>{F(b=>new Set(b).add(O))},[]),onNativeOptionRemove:u.useCallback(O=>{F(b=>{const w=new Set(b);return w.delete(O),w})},[]),children:n})}),B?c.jsxs(Yn,{"aria-hidden":!0,required:h,tabIndex:-1,name:f,autoComplete:p,value:D,onChange:O=>z(O.target.value),disabled:v,children:[D===void 0?c.jsx("option",{value:""}):null,Array.from(_)]},I):null]})})};Cn.displayName=Be;var Tn="SelectTrigger",Pn=u.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:o=!1,...r}=e,i=it(n),s=me(Tn,n),l=s.disabled||o,a=G(t,s.onTriggerChange),d=st(n),[f,p,v]=Gn(m=>{const x=d().filter(y=>!y.disabled),C=x.find(y=>y.value===s.value),g=Xn(x,m,C);g!==void 0&&s.onValueChange(g.value)}),h=()=>{l||(s.onOpenChange(!0),v())};return c.jsx(wn,{asChild:!0,...i,children:c.jsx(Y.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Kn(s.value)?"":void 0,...r,ref:a,onClick:U(r.onClick,m=>{m.currentTarget.focus()}),onPointerDown:U(r.onPointerDown,m=>{const x=m.target;x.hasPointerCapture(m.pointerId)&&x.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&(h(),s.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)},m.preventDefault())}),onKeyDown:U(r.onKeyDown,m=>{const x=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&p(m.key),!(x&&m.key===" ")&&os.includes(m.key)&&(h(),m.preventDefault())})})})});Pn.displayName=Tn;var Rn="SelectValue",An=u.forwardRef((e,t)=>{const{__scopeSelect:n,className:o,style:r,children:i,placeholder:s="",...l}=e,a=me(Rn,n),{onValueNodeHasChildrenChange:d}=a,f=i!==void 0,p=G(t,a.onValueNodeChange);return Q(()=>{d(f)},[d,f]),c.jsx(Y.span,{...l,ref:p,style:{pointerEvents:"none"},children:Kn(a.value)?c.jsx(c.Fragment,{children:s}):i})});An.displayName=Rn;var cs="SelectIcon",En=u.forwardRef((e,t)=>{const{__scopeSelect:n,children:o,...r}=e;return c.jsx(Y.span,{"aria-hidden":!0,...r,ref:t,children:o||"▼"})});En.displayName=cs;var ds="SelectPortal",Nn=e=>c.jsx(jo,{asChild:!0,...e});Nn.displayName=ds;var ye="SelectContent",jn=u.forwardRef((e,t)=>{const n=me(ye,e.__scopeSelect),[o,r]=u.useState();if(Q(()=>{r(new DocumentFragment)},[]),!n.open){const i=o;return i?Tt.createPortal(c.jsx(On,{scope:e.__scopeSelect,children:c.jsx(rt.Slot,{scope:e.__scopeSelect,children:c.jsx("div",{children:e.children})})}),i):null}return c.jsx(Dn,{...e,ref:t})});jn.displayName=ye;var se=10,[On,he]=Re(ye),us="SelectContentImpl",Dn=u.forwardRef((e,t)=>{const{__scopeSelect:n,position:o="item-aligned",onCloseAutoFocus:r,onEscapeKeyDown:i,onPointerDownOutside:s,side:l,sideOffset:a,align:d,alignOffset:f,arrowPadding:p,collisionBoundary:v,collisionPadding:h,sticky:m,hideWhenDetached:x,avoidCollisions:C,...g}=e,y=me(ye,n),[S,R]=u.useState(null),[P,E]=u.useState(null),j=G(t,N=>R(N)),[D,z]=u.useState(null),[H,B]=u.useState(null),_=st(n),[F,I]=u.useState(!1),O=u.useRef(!1);u.useEffect(()=>{if(S)return _o(S)},[S]),ko();const b=u.useCallback(N=>{const[W,...K]=_().map(L=>L.ref.current),[V]=K.slice(-1),M=document.activeElement;for(const L of N)if(L===M||(L==null||L.scrollIntoView({block:"nearest"}),L===W&&P&&(P.scrollTop=0),L===V&&P&&(P.scrollTop=P.scrollHeight),L==null||L.focus(),document.activeElement!==M))return},[_,P]),w=u.useCallback(()=>b([D,S]),[b,D,S]);u.useEffect(()=>{F&&w()},[F,w]);const{onOpenChange:A,triggerPointerDownPosRef:T}=y;u.useEffect(()=>{if(S){let N={x:0,y:0};const W=V=>{var M,L;N={x:Math.abs(Math.round(V.pageX)-(((M=T.current)==null?void 0:M.x)??0)),y:Math.abs(Math.round(V.pageY)-(((L=T.current)==null?void 0:L.y)??0))}},K=V=>{N.x<=10&&N.y<=10?V.preventDefault():S.contains(V.target)||A(!1),document.removeEventListener("pointermove",W),T.current=null};return T.current!==null&&(document.addEventListener("pointermove",W),document.addEventListener("pointerup",K,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",W),document.removeEventListener("pointerup",K,{capture:!0})}}},[S,A,T]),u.useEffect(()=>{const N=()=>A(!1);return window.addEventListener("blur",N),window.addEventListener("resize",N),()=>{window.removeEventListener("blur",N),window.removeEventListener("resize",N)}},[A]);const[$,k]=Gn(N=>{const W=_().filter(M=>!M.disabled),K=W.find(M=>M.ref.current===document.activeElement),V=Xn(W,N,K);V&&setTimeout(()=>V.ref.current.focus())}),q=u.useCallback((N,W,K)=>{const V=!O.current&&!K;(y.value!==void 0&&y.value===W||V)&&(z(N),V&&(O.current=!0))},[y.value]),Ae=u.useCallback(()=>S==null?void 0:S.focus(),[S]),de=u.useCallback((N,W,K)=>{const V=!O.current&&!K;(y.value!==void 0&&y.value===W||V)&&B(N)},[y.value]),ve=o==="popper"?xt:In,ge=ve===xt?{side:l,sideOffset:a,align:d,alignOffset:f,arrowPadding:p,collisionBoundary:v,collisionPadding:h,sticky:m,hideWhenDetached:x,avoidCollisions:C}:{};return c.jsx(On,{scope:n,content:S,viewport:P,onViewportChange:E,itemRefCallback:q,selectedItem:D,onItemLeave:Ae,itemTextRefCallback:de,focusSelectedItem:w,selectedItemText:H,position:o,isPositioned:F,searchRef:$,children:c.jsx(Mo,{as:Do,allowPinchZoom:!0,children:c.jsx(Lo,{asChild:!0,trapped:y.open,onMountAutoFocus:N=>{N.preventDefault()},onUnmountAutoFocus:U(r,N=>{var W;(W=y.trigger)==null||W.focus({preventScroll:!0}),N.preventDefault()}),children:c.jsx(Zt,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:N=>N.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:c.jsx(ve,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:N=>N.preventDefault(),...g,...ge,onPlaced:()=>I(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:U(g.onKeyDown,N=>{const W=N.ctrlKey||N.altKey||N.metaKey;if(N.key==="Tab"&&N.preventDefault(),!W&&N.key.length===1&&k(N.key),["ArrowUp","ArrowDown","Home","End"].includes(N.key)){let V=_().filter(M=>!M.disabled).map(M=>M.ref.current);if(["ArrowUp","End"].includes(N.key)&&(V=V.slice().reverse()),["ArrowUp","ArrowDown"].includes(N.key)){const M=N.target,L=V.indexOf(M);V=V.slice(L+1)}setTimeout(()=>b(V)),N.preventDefault()}})})})})})})});Dn.displayName=us;var fs="SelectItemAlignedPosition",In=u.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:o,...r}=e,i=me(ye,n),s=he(ye,n),[l,a]=u.useState(null),[d,f]=u.useState(null),p=G(t,j=>f(j)),v=st(n),h=u.useRef(!1),m=u.useRef(!0),{viewport:x,selectedItem:C,selectedItemText:g,focusSelectedItem:y}=s,S=u.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&x&&C&&g){const j=i.trigger.getBoundingClientRect(),D=d.getBoundingClientRect(),z=i.valueNode.getBoundingClientRect(),H=g.getBoundingClientRect();if(i.dir!=="rtl"){const M=H.left-D.left,L=z.left-M,X=j.left-L,ne=j.width+X,Ee=Math.max(ne,D.width),Ne=window.innerWidth-se,je=Vt(L,[se,Ne-Ee]);l.style.minWidth=ne+"px",l.style.left=je+"px"}else{const M=D.right-H.right,L=window.innerWidth-z.right-M,X=window.innerWidth-j.right-L,ne=j.width+X,Ee=Math.max(ne,D.width),Ne=window.innerWidth-se,je=Vt(L,[se,Ne-Ee]);l.style.minWidth=ne+"px",l.style.right=je+"px"}const B=v(),_=window.innerHeight-se*2,F=x.scrollHeight,I=window.getComputedStyle(d),O=parseInt(I.borderTopWidth,10),b=parseInt(I.paddingTop,10),w=parseInt(I.borderBottomWidth,10),A=parseInt(I.paddingBottom,10),T=O+b+F+A+w,$=Math.min(C.offsetHeight*5,T),k=window.getComputedStyle(x),q=parseInt(k.paddingTop,10),Ae=parseInt(k.paddingBottom,10),de=j.top+j.height/2-se,ve=_-de,ge=C.offsetHeight/2,N=C.offsetTop+ge,W=O+b+N,K=T-W;if(W<=de){const M=C===B[B.length-1].ref.current;l.style.bottom="0px";const L=d.clientHeight-x.offsetTop-x.offsetHeight,X=Math.max(ve,ge+(M?Ae:0)+L+w),ne=W+X;l.style.height=ne+"px"}else{const M=C===B[0].ref.current;l.style.top="0px";const X=Math.max(de,O+x.offsetTop+(M?q:0)+ge)+K;l.style.height=X+"px",x.scrollTop=W-de+x.offsetTop}l.style.margin=`${se}px 0`,l.style.minHeight=$+"px",l.style.maxHeight=_+"px",o==null||o(),requestAnimationFrame(()=>h.current=!0)}},[v,i.trigger,i.valueNode,l,d,x,C,g,i.dir,o]);Q(()=>S(),[S]);const[R,P]=u.useState();Q(()=>{d&&P(window.getComputedStyle(d).zIndex)},[d]);const E=u.useCallback(j=>{j&&m.current===!0&&(S(),y==null||y(),m.current=!1)},[S,y]);return c.jsx(ms,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:h,onScrollButtonChange:E,children:c.jsx("div",{ref:a,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:c.jsx(Y.div,{...r,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...r.style}})})})});In.displayName=fs;var ps="SelectPopperPosition",xt=u.forwardRef((e,t)=>{const{__scopeSelect:n,align:o="start",collisionPadding:r=se,...i}=e,s=it(n);return c.jsx(bn,{...s,...i,ref:t,align:o,collisionPadding:r,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});xt.displayName=ps;var[ms,kt]=Re(ye,{}),yt="SelectViewport",_n=u.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:o,...r}=e,i=he(yt,n),s=kt(yt,n),l=G(t,i.onViewportChange),a=u.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),c.jsx(rt.Slot,{scope:n,children:c.jsx(Y.div,{"data-radix-select-viewport":"",role:"presentation",...r,ref:l,style:{position:"relative",flex:1,overflow:"auto",...r.style},onScroll:U(r.onScroll,d=>{const f=d.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:v}=s;if(v!=null&&v.current&&p){const h=Math.abs(a.current-f.scrollTop);if(h>0){const m=window.innerHeight-se*2,x=parseFloat(p.style.minHeight),C=parseFloat(p.style.height),g=Math.max(x,C);if(g<m){const y=g+h,S=Math.min(m,y),R=y-S;p.style.height=S+"px",p.style.bottom==="0px"&&(f.scrollTop=R>0?R:0,p.style.justifyContent="flex-end")}}}a.current=f.scrollTop})})})]})});_n.displayName=yt;var kn="SelectGroup",[hs,gs]=Re(kn),xs=u.forwardRef((e,t)=>{const{__scopeSelect:n,...o}=e,r=et();return c.jsx(hs,{scope:n,id:r,children:c.jsx(Y.div,{role:"group","aria-labelledby":r,...o,ref:t})})});xs.displayName=kn;var Mn="SelectLabel",Ln=u.forwardRef((e,t)=>{const{__scopeSelect:n,...o}=e,r=gs(Mn,n);return c.jsx(Y.div,{id:r.id,...o,ref:t})});Ln.displayName=Mn;var Qe="SelectItem",[ys,$n]=Re(Qe),Hn=u.forwardRef((e,t)=>{const{__scopeSelect:n,value:o,disabled:r=!1,textValue:i,...s}=e,l=me(Qe,n),a=he(Qe,n),d=l.value===o,[f,p]=u.useState(i??""),[v,h]=u.useState(!1),m=G(t,g=>{var y;return(y=a.itemRefCallback)==null?void 0:y.call(a,g,o,r)}),x=et(),C=()=>{r||(l.onValueChange(o),l.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(ys,{scope:n,value:o,disabled:r,textId:x,isSelected:d,onItemTextChange:u.useCallback(g=>{p(y=>y||((g==null?void 0:g.textContent)??"").trim())},[]),children:c.jsx(rt.ItemSlot,{scope:n,value:o,disabled:r,textValue:f,children:c.jsx(Y.div,{role:"option","aria-labelledby":x,"data-highlighted":v?"":void 0,"aria-selected":d&&v,"data-state":d?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1,...s,ref:m,onFocus:U(s.onFocus,()=>h(!0)),onBlur:U(s.onBlur,()=>h(!1)),onPointerUp:U(s.onPointerUp,C),onPointerMove:U(s.onPointerMove,g=>{var y;r?(y=a.onItemLeave)==null||y.call(a):g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:U(s.onPointerLeave,g=>{var y;g.currentTarget===document.activeElement&&((y=a.onItemLeave)==null||y.call(a))}),onKeyDown:U(s.onKeyDown,g=>{var S;((S=a.searchRef)==null?void 0:S.current)!==""&&g.key===" "||(rs.includes(g.key)&&C(),g.key===" "&&g.preventDefault())})})})})});Hn.displayName=Qe;var Ie="SelectItemText",Bn=u.forwardRef((e,t)=>{const{__scopeSelect:n,className:o,style:r,...i}=e,s=me(Ie,n),l=he(Ie,n),a=$n(Ie,n),d=ls(Ie,n),[f,p]=u.useState(null),v=G(t,g=>p(g),a.onItemTextChange,g=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,g,a.value,a.disabled)}),h=f==null?void 0:f.textContent,m=u.useMemo(()=>c.jsx("option",{value:a.value,disabled:a.disabled,children:h},a.value),[a.disabled,a.value,h]),{onNativeOptionAdd:x,onNativeOptionRemove:C}=d;return Q(()=>(x(m),()=>C(m)),[x,C,m]),c.jsxs(c.Fragment,{children:[c.jsx(Y.span,{id:a.textId,...i,ref:v}),a.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Tt.createPortal(i.children,s.valueNode):null]})});Bn.displayName=Ie;var Vn="SelectItemIndicator",Fn=u.forwardRef((e,t)=>{const{__scopeSelect:n,...o}=e;return $n(Vn,n).isSelected?c.jsx(Y.span,{"aria-hidden":!0,...o,ref:t}):null});Fn.displayName=Vn;var vt="SelectScrollUpButton",Wn=u.forwardRef((e,t)=>{const n=he(vt,e.__scopeSelect),o=kt(vt,e.__scopeSelect),[r,i]=u.useState(!1),s=G(t,o.onScrollButtonChange);return Q(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=a.scrollTop>0;i(d)};const a=n.viewport;return l(),a.addEventListener("scroll",l),()=>a.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),r?c.jsx(qn,{...e,ref:s,onAutoScroll:()=>{const{viewport:l,selectedItem:a}=n;l&&a&&(l.scrollTop=l.scrollTop-a.offsetHeight)}}):null});Wn.displayName=vt;var wt="SelectScrollDownButton",zn=u.forwardRef((e,t)=>{const n=he(wt,e.__scopeSelect),o=kt(wt,e.__scopeSelect),[r,i]=u.useState(!1),s=G(t,o.onScrollButtonChange);return Q(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=a.scrollHeight-a.clientHeight,f=Math.ceil(a.scrollTop)<d;i(f)};const a=n.viewport;return l(),a.addEventListener("scroll",l),()=>a.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),r?c.jsx(qn,{...e,ref:s,onAutoScroll:()=>{const{viewport:l,selectedItem:a}=n;l&&a&&(l.scrollTop=l.scrollTop+a.offsetHeight)}}):null});zn.displayName=wt;var qn=u.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:o,...r}=e,i=he("SelectScrollButton",n),s=u.useRef(null),l=st(n),a=u.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return u.useEffect(()=>()=>a(),[a]),Q(()=>{var f;const d=l().find(p=>p.ref.current===document.activeElement);(f=d==null?void 0:d.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),c.jsx(Y.div,{"aria-hidden":!0,...r,ref:t,style:{flexShrink:0,...r.style},onPointerDown:U(r.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(o,50))}),onPointerMove:U(r.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),s.current===null&&(s.current=window.setInterval(o,50))}),onPointerLeave:U(r.onPointerLeave,()=>{a()})})}),vs="SelectSeparator",Un=u.forwardRef((e,t)=>{const{__scopeSelect:n,...o}=e;return c.jsx(Y.div,{"aria-hidden":!0,...o,ref:t})});Un.displayName=vs;var bt="SelectArrow",ws=u.forwardRef((e,t)=>{const{__scopeSelect:n,...o}=e,r=it(n),i=me(bt,n),s=he(bt,n);return i.open&&s.position==="popper"?c.jsx(Sn,{...r,...o,ref:t}):null});ws.displayName=bt;function Kn(e){return e===""||e===void 0}var Yn=u.forwardRef((e,t)=>{const{value:n,...o}=e,r=u.useRef(null),i=G(t,r),s=ns(n);return u.useEffect(()=>{const l=r.current,a=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(a,"value").set;if(s!==n&&f){const p=new Event("change",{bubbles:!0});f.call(l,n),l.dispatchEvent(p)}},[s,n]),c.jsx(yo,{asChild:!0,children:c.jsx("select",{...o,ref:i,defaultValue:n})})});Yn.displayName="BubbleSelect";function Gn(e){const t=Jt(e),n=u.useRef(""),o=u.useRef(0),r=u.useCallback(s=>{const l=n.current+s;t(l),function a(d){n.current=d,window.clearTimeout(o.current),d!==""&&(o.current=window.setTimeout(()=>a(""),1e3))}(l)},[t]),i=u.useCallback(()=>{n.current="",window.clearTimeout(o.current)},[]);return u.useEffect(()=>()=>window.clearTimeout(o.current),[]),[n,r,i]}function Xn(e,t,n){const r=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let s=bs(e,Math.max(i,0));r.length===1&&(s=s.filter(d=>d!==n));const a=s.find(d=>d.textValue.toLowerCase().startsWith(r.toLowerCase()));return a!==n?a:void 0}function bs(e,t){return e.map((n,o)=>e[(t+o)%e.length])}var Ss=Cn,Jn=Pn,Cs=An,Ts=En,Ps=Nn,Zn=jn,Rs=_n,Qn=Ln,eo=Hn,As=Bn,Es=Fn,to=Wn,no=zn,oo=Un;const We=Ss,ze=Cs,_e=u.forwardRef(({className:e,children:t,...n},o)=>c.jsxs(Jn,{ref:o,className:ie("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,c.jsx(Ts,{asChild:!0,children:c.jsx(vo,{className:"h-4 w-4 opacity-50"})})]}));_e.displayName=Jn.displayName;const ro=u.forwardRef(({className:e,...t},n)=>c.jsx(to,{ref:n,className:ie("flex cursor-default items-center justify-center py-1",e),...t,children:c.jsx(wo,{})}));ro.displayName=to.displayName;const so=u.forwardRef(({className:e,...t},n)=>c.jsx(no,{ref:n,className:ie("flex cursor-default items-center justify-center py-1",e),...t,children:c.jsx(bo,{})}));so.displayName=no.displayName;const ke=u.forwardRef(({className:e,children:t,position:n="popper",...o},r)=>c.jsx(Ps,{children:c.jsxs(Zn,{ref:r,className:ie("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...o,children:[c.jsx(ro,{}),c.jsx(Rs,{className:ie("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),c.jsx(so,{})]})}));ke.displayName=Zn.displayName;const Ns=u.forwardRef(({className:e,...t},n)=>c.jsx(Qn,{ref:n,className:ie("px-2 py-1.5 text-sm font-semibold",e),...t}));Ns.displayName=Qn.displayName;const Me=u.forwardRef(({className:e,children:t,...n},o)=>c.jsxs(eo,{ref:o,className:ie("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[c.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(Es,{children:c.jsx(So,{className:"h-4 w-4"})})}),c.jsx(As,{children:t})]}));Me.displayName=eo.displayName;const js=u.forwardRef(({className:e,...t},n)=>c.jsx(oo,{ref:n,className:ie("-mx-1 my-1 h-px bg-muted",e),...t}));js.displayName=oo.displayName;var[at,mi]=Pt("Tooltip",[ot]),lt=ot(),io="TooltipProvider",Os=700,St="tooltip.open",[Ds,Mt]=at(io),ao=e=>{const{__scopeTooltip:t,delayDuration:n=Os,skipDelayDuration:o=300,disableHoverableContent:r=!1,children:i}=e,[s,l]=u.useState(!0),a=u.useRef(!1),d=u.useRef(0);return u.useEffect(()=>{const f=d.current;return()=>window.clearTimeout(f)},[]),c.jsx(Ds,{scope:t,isOpenDelayed:s,delayDuration:n,onOpen:u.useCallback(()=>{window.clearTimeout(d.current),l(!1)},[]),onClose:u.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l(!0),o)},[o]),isPointerInTransitRef:a,onPointerInTransitChange:u.useCallback(f=>{a.current=f},[]),disableHoverableContent:r,children:i})};ao.displayName=io;var ct="Tooltip",[Is,dt]=at(ct),lo=e=>{const{__scopeTooltip:t,children:n,open:o,defaultOpen:r=!1,onOpenChange:i,disableHoverableContent:s,delayDuration:l}=e,a=Mt(ct,e.__scopeTooltip),d=lt(t),[f,p]=u.useState(null),v=et(),h=u.useRef(0),m=s??a.disableHoverableContent,x=l??a.delayDuration,C=u.useRef(!1),[g=!1,y]=pt({prop:o,defaultProp:r,onChange:j=>{j?(a.onOpen(),document.dispatchEvent(new CustomEvent(St))):a.onClose(),i==null||i(j)}}),S=u.useMemo(()=>g?C.current?"delayed-open":"instant-open":"closed",[g]),R=u.useCallback(()=>{window.clearTimeout(h.current),C.current=!1,y(!0)},[y]),P=u.useCallback(()=>{window.clearTimeout(h.current),y(!1)},[y]),E=u.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{C.current=!0,y(!0)},x)},[x,y]);return u.useEffect(()=>()=>window.clearTimeout(h.current),[]),c.jsx(vn,{...d,children:c.jsx(Is,{scope:t,contentId:v,open:g,stateAttribute:S,trigger:f,onTriggerChange:p,onTriggerEnter:u.useCallback(()=>{a.isOpenDelayed?E():R()},[a.isOpenDelayed,E,R]),onTriggerLeave:u.useCallback(()=>{m?P():window.clearTimeout(h.current)},[P,m]),onOpen:R,onClose:P,disableHoverableContent:m,children:n})})};lo.displayName=ct;var Ct="TooltipTrigger",co=u.forwardRef((e,t)=>{const{__scopeTooltip:n,...o}=e,r=dt(Ct,n),i=Mt(Ct,n),s=lt(n),l=u.useRef(null),a=G(t,l,r.onTriggerChange),d=u.useRef(!1),f=u.useRef(!1),p=u.useCallback(()=>d.current=!1,[]);return u.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),c.jsx(wn,{asChild:!0,...s,children:c.jsx(Y.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...o,ref:a,onPointerMove:U(e.onPointerMove,v=>{v.pointerType!=="touch"&&!f.current&&!i.isPointerInTransitRef.current&&(r.onTriggerEnter(),f.current=!0)}),onPointerLeave:U(e.onPointerLeave,()=>{r.onTriggerLeave(),f.current=!1}),onPointerDown:U(e.onPointerDown,()=>{d.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:U(e.onFocus,()=>{d.current||r.onOpen()}),onBlur:U(e.onBlur,r.onClose),onClick:U(e.onClick,r.onClose)})})});co.displayName=Ct;var _s="TooltipPortal",[hi,ks]=at(_s,{forceMount:void 0}),Ce="TooltipContent",uo=u.forwardRef((e,t)=>{const n=ks(Ce,e.__scopeTooltip),{forceMount:o=n.forceMount,side:r="top",...i}=e,s=dt(Ce,e.__scopeTooltip);return c.jsx(Oo,{present:o||s.open,children:s.disableHoverableContent?c.jsx(fo,{side:r,...i,ref:t}):c.jsx(Ms,{side:r,...i,ref:t})})}),Ms=u.forwardRef((e,t)=>{const n=dt(Ce,e.__scopeTooltip),o=Mt(Ce,e.__scopeTooltip),r=u.useRef(null),i=G(t,r),[s,l]=u.useState(null),{trigger:a,onClose:d}=n,f=r.current,{onPointerInTransitChange:p}=o,v=u.useCallback(()=>{l(null),p(!1)},[p]),h=u.useCallback((m,x)=>{const C=m.currentTarget,g={x:m.clientX,y:m.clientY},y=Bs(g,C.getBoundingClientRect()),S=Vs(g,y),R=Fs(x.getBoundingClientRect()),P=zs([...S,...R]);l(P),p(!0)},[p]);return u.useEffect(()=>()=>v(),[v]),u.useEffect(()=>{if(a&&f){const m=C=>h(C,f),x=C=>h(C,a);return a.addEventListener("pointerleave",m),f.addEventListener("pointerleave",x),()=>{a.removeEventListener("pointerleave",m),f.removeEventListener("pointerleave",x)}}},[a,f,h,v]),u.useEffect(()=>{if(s){const m=x=>{const C=x.target,g={x:x.clientX,y:x.clientY},y=(a==null?void 0:a.contains(C))||(f==null?void 0:f.contains(C)),S=!Ws(g,s);y?v():S&&(v(),d())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[a,f,s,d,v]),c.jsx(fo,{...e,ref:i})}),[Ls,$s]=at(ct,{isInside:!1}),fo=u.forwardRef((e,t)=>{const{__scopeTooltip:n,children:o,"aria-label":r,onEscapeKeyDown:i,onPointerDownOutside:s,...l}=e,a=dt(Ce,n),d=lt(n),{onClose:f}=a;return u.useEffect(()=>(document.addEventListener(St,f),()=>document.removeEventListener(St,f)),[f]),u.useEffect(()=>{if(a.trigger){const p=v=>{const h=v.target;h!=null&&h.contains(a.trigger)&&f()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[a.trigger,f]),c.jsx(Zt,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:p=>p.preventDefault(),onDismiss:f,children:c.jsxs(bn,{"data-state":a.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(Io,{children:o}),c.jsx(Ls,{scope:n,isInside:!0,children:c.jsx(Co,{id:a.contentId,role:"tooltip",children:r||o})})]})})});uo.displayName=Ce;var po="TooltipArrow",Hs=u.forwardRef((e,t)=>{const{__scopeTooltip:n,...o}=e,r=lt(n);return $s(po,n).isInside?null:c.jsx(Sn,{...r,...o,ref:t})});Hs.displayName=po;function Bs(e,t){const n=Math.abs(t.top-e.y),o=Math.abs(t.bottom-e.y),r=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,o,r,i)){case i:return"left";case r:return"right";case n:return"top";case o:return"bottom";default:throw new Error("unreachable")}}function Vs(e,t,n=5){const o=[];switch(t){case"top":o.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":o.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":o.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":o.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return o}function Fs(e){const{top:t,right:n,bottom:o,left:r}=e;return[{x:r,y:t},{x:n,y:t},{x:n,y:o},{x:r,y:o}]}function Ws(e,t){const{x:n,y:o}=e;let r=!1;for(let i=0,s=t.length-1;i<t.length;s=i++){const l=t[i].x,a=t[i].y,d=t[s].x,f=t[s].y;a>o!=f>o&&n<(d-l)*(o-a)/(f-a)+l&&(r=!r)}return r}function zs(e){const t=e.slice();return t.sort((n,o)=>n.x<o.x?-1:n.x>o.x?1:n.y<o.y?-1:n.y>o.y?1:0),qs(t)}function qs(e){if(e.length<=1)return e.slice();const t=[];for(let o=0;o<e.length;o++){const r=e[o];for(;t.length>=2;){const i=t[t.length-1],s=t[t.length-2];if((i.x-s.x)*(r.y-s.y)>=(i.y-s.y)*(r.x-s.x))t.pop();else break}t.push(r)}t.pop();const n=[];for(let o=e.length-1;o>=0;o--){const r=e[o];for(;n.length>=2;){const i=n[n.length-1],s=n[n.length-2];if((i.x-s.x)*(r.y-s.y)>=(i.y-s.y)*(r.x-s.x))n.pop();else break}n.push(r)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Us=ao,Ks=lo,Ys=co,mo=uo;const Gs=Us,Xs=Ks,Js=Ys,ho=u.forwardRef(({className:e,sideOffset:t=4,...n},o)=>c.jsx(mo,{ref:o,sideOffset:t,className:ie("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));ho.displayName=mo.displayName;const ft=[{name:"host",label:"Host",type:"text",placeholder:"e.g. localhost",required:!0},{name:"database",label:"Database Name",type:"text",required:!0},{name:"user",label:"User",type:"text",required:!0},{name:"password",label:"Password",type:"password",required:!0}],qe=[{type:"PostgreSQL",label:"PostgreSQL",fields:[...ft,{name:"port",label:"Port",type:"number",placeholder:"5432",required:!0,defaultValue:"5432"}]},{type:"MySQL",label:"MySQL",fields:[...ft,{name:"port",label:"Port",type:"number",placeholder:"3306",required:!0,defaultValue:"3306"}]},{type:"MariaDB",label:"MariaDB",fields:[...ft,{name:"port",label:"Port",type:"number",placeholder:"3306",required:!0,defaultValue:"3306"}]}],Ue=[{name:"key",label:"Access Key",type:"text",required:!0},{name:"secret",label:"Secret Key",type:"password",required:!0},{name:"bucket",label:"Bucket Name",type:"text",required:!0}],Ke=[{type:"S3",label:"AWS S3",fields:[...Ue,{name:"region",label:"Region",type:"select",required:!0,options:[{value:"us-east-1",label:"us-east-1"},{value:"us-west-2",label:"us-west-2"}]}]},{type:"R2",label:"Cloudflare R2",fields:[...Ue,{name:"accountId",label:"Account ID",type:"text",required:!0},{name:"region",label:"Region",type:"text",required:!0,defaultValue:"auto",hidden:!1},{name:"endpoint",label:"Endpoint",type:"text",hidden:!0,computed:e=>`https://${e.accountId}.r2.cloudflarestorage.com`},{name:"path",label:"Path",type:"text",required:!0}]},{type:"B2",label:"Backblaze B2",fields:[...Ue,{name:"region",label:"Region",type:"text",placeholder:"us-east-005",required:!0,defaultValue:"us-east-005"},{name:"endpoint",label:"Endpoint",type:"text",hidden:!0,computed:e=>`https://s3.${e.region}.backblazeb2.com`}]},{type:"Spaces",label:"DigitalOcean Spaces",fields:[...Ue,{name:"region",label:"Region",type:"select",required:!0,options:[{value:"nyc3",label:"nyc3"},{value:"ams3",label:"ams3"},{value:"sgp1",label:"sgp1"}]},{name:"endpoint",label:"Endpoint",type:"text",hidden:!0,computed:e=>`https://${e.region}.digitaloceanspaces.com`}]},{type:"Local",label:"Local",fields:[{name:"path",label:"Local Path",type:"text",placeholder:"/path/to/backups",required:!0}]}],gi=()=>[{title:"Create New Backup Task"}],xi=async({params:e,request:t})=>(await Bo(),{data:null}),yi=async({request:e})=>{const t=await e.formData(),n=Object.fromEntries(t);try{const o={...n,dbConfig:JSON.parse(n.dbConfig),storageConfigs:JSON.parse(n.storageConfigs),retentionDays:parseInt(n.retentionDays,10)},r=await fetch(`${Vo}tasks/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});return r.ok?Wo("/"):{error:(await r.json()).error}}catch{return{error:"An unexpected error occurred"}}};function vi(){var O;const e=Po(),t=Ro(),{toast:n}=To(),o=Ao(),r=Eo(),[i,s]=u.useState(""),[l,a]=u.useState(""),[d,f]=u.useState({}),[p,v]=u.useState([{type:"",config:{}}]),[h,m]=u.useState("0 0 * * *"),[x,C]=u.useState(7),[g,y]=u.useState(0),[S,R]=u.useState({}),P=r.state==="submitting";u.useEffect(()=>{o!=null&&o.error&&n({variant:"destructive",title:"Error",description:o.error})},[o,n]);const E=[{name:"General",icon:Ko},{name:"Database",icon:zo},{name:"Storage",icon:qo}],j=b=>{var A;const w={};return b===0?(i.trim()||(w.name="Task name is required"),h.trim()||(w.cron="Cron schedule is required"),x||(w.retentionDays="Retention period is required")):b===1?(l||(w.dbType="Database type is required"),(A=qe.find(T=>T.type===l))==null||A.fields.forEach(T=>{T.required&&!d[T.name]&&(w[`db_${T.name}`]=`${T.label} is required`)})):b===2&&p.forEach((T,$)=>{var k;T.type||(w[`storage_${$}_type`]="Storage type is required"),(k=Ke.find(q=>q.type===T.type))==null||k.fields.forEach(q=>{q.required&&!T.config[q.name]&&(w[`storage_${$}_${q.name}`]=`${q.label} is required`)})}),R(w),Object.keys(w).length===0},D=()=>{j(g)&&g<E.length-1&&y(g+1)},z=()=>{g>0&&y(g-1)},H=b=>{var A;if(b.preventDefault(),!j(E.length-1))return;const w=new FormData;w.append("name",i),w.append("dbConfig",JSON.stringify({...d,type:l,port:parseInt(d.port,10)})),w.append("storageConfigs",JSON.stringify(p.map(({type:T,config:$})=>({type:T,...$})))),w.append("cron",h),w.append("retentionDays",x.toString()),w.append("user",(A=Fo.authStore.model)==null?void 0:A.id),t(w,{method:"post",action:"/tasks/new"})},B=b=>{const{name:w,value:A}="target"in b?b.target:b;f(T=>{const $={...T,[w]:A},k=qe.find(q=>q.type===l);return k&&k.fields.forEach(q=>{q.computed&&($[q.name]=q.computed($))}),$})},_=(b,w,A)=>{v(T=>{const $=[...T];$[b].config[w]=A;const k=Ke.find(q=>q.type===$[b].type);return k&&k.fields.forEach(q=>{q.computed&&($[b].config[q.name]=q.computed($[b].config))}),$})},F=()=>{v(b=>[...b,{type:"",config:{}}])},I=b=>{v(w=>w.filter((A,T)=>T!==b))};return c.jsxs("div",{className:"mx-auto",children:[c.jsxs(we,{variant:"ghost",onClick:()=>e("/"),className:"mb-6",children:[c.jsx($o,{className:"mr-2 h-4 w-4"}),"Back to Tasks"]}),c.jsxs(Lt,{children:[c.jsx($t,{children:c.jsx(Ht,{className:"text-2xl font-bold",children:"Create New Backup Task"})}),c.jsx(Bt,{children:c.jsxs(No,{onSubmit:H,className:"space-y-6",children:[c.jsx("div",{className:"flex justify-between mb-8",children:E.map((b,w)=>c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${w<=g?"bg-primary text-white":"bg-gray-200 text-gray-500"}`,children:c.jsx(b.icon,{className:"w-6 h-6"})}),c.jsx("span",{className:`mt-2 text-sm ${w<=g?"text-primary":"text-gray-500"}`,children:b.name}),w<E.length-1&&c.jsx("div",{className:`hidden sm:block w-24 h-0.5 mt-6 ${w<g?"bg-primary":"bg-gray-200"}`})]},b.name))}),g===0&&c.jsxs("div",{className:"flex flex-wrap gap-4",children:[c.jsxs("div",{className:"flex-1 min-w-[200px]",children:[c.jsx(Oe,{htmlFor:"taskName",children:"Task Name"}),c.jsx(De,{type:"text",id:"taskName",value:i,onChange:b=>s(b.target.value),placeholder:"Daily Production DB Backup"}),S.name&&c.jsx("p",{className:"text-red-500 text-sm mt-1",children:S.name})]}),c.jsxs("div",{className:"flex-1 min-w-[200px]",children:[c.jsx(Oe,{htmlFor:"cron",children:"Cron Schedule"}),c.jsx(Gs,{children:c.jsxs(Xs,{children:[c.jsx(Js,{asChild:!0,children:c.jsx(De,{type:"text",id:"cron",value:h,onChange:b=>m(b.target.value)})}),c.jsx(ho,{children:c.jsx("p",{children:'Enter a cron expression (e.g., "0 0 * * *" for daily at midnight)'})})]})}),S.cron&&c.jsx("p",{className:"text-red-500 text-sm mt-1",children:S.cron})]}),c.jsxs("div",{className:"flex-1 min-w-[200px]",children:[c.jsx(Oe,{htmlFor:"retention",children:"Retention Period (days)"}),c.jsx(De,{type:"number",id:"retention",value:x,onChange:b=>C(Number(b.target.value)),placeholder:"30"}),S.retentionDays&&c.jsx("p",{className:"text-red-500 text-sm mt-1",children:S.retentionDays})]})]}),g===1&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs(We,{value:l,onValueChange:b=>{a(b),f({})},children:[c.jsx(_e,{id:"dbType",children:c.jsx(ze,{placeholder:"Select database type"})}),c.jsx(ke,{children:qe.map(b=>c.jsx(Me,{value:b.type,children:b.label},b.type))})]}),S.dbType&&c.jsx("p",{className:"text-red-500 text-sm",children:S.dbType}),l&&c.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:(O=qe.find(b=>b.type===l))==null?void 0:O.fields.map(b=>{var w;return!b.hidden&&c.jsxs("div",{className:"space-y-2",children:[c.jsx(Oe,{htmlFor:b.name,children:b.label}),b.type==="select"?c.jsxs(We,{value:d[b.name]??"",onValueChange:A=>B({name:b.name,value:A}),children:[c.jsx(_e,{id:b.name,children:c.jsx(ze,{placeholder:`Select ${b.label}`})}),c.jsx(ke,{children:(w=b.options)==null?void 0:w.map(A=>c.jsx(Me,{value:A.value,children:A.label},A.value))})]}):c.jsx(De,{type:b.type,id:b.name,name:b.name,value:d[b.name]??"",onChange:B,placeholder:b.placeholder,disabled:!!b.computed}),S[`db_${b.name}`]&&c.jsx("p",{className:"text-red-500 text-sm",children:S[`db_${b.name}`]})]},b.name)})})]}),g===2&&c.jsxs("div",{className:"space-y-4",children:[p.map((b,w)=>{var A;return c.jsxs(Lt,{children:[c.jsxs($t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsxs(Ht,{className:"text-sm font-medium",children:["Storage Configuration ",w+1]}),c.jsx(we,{variant:"ghost",size:"sm",onClick:()=>I(w),disabled:p.length===1,children:c.jsx(Ho,{className:"h-4 w-4"})})]}),c.jsxs(Bt,{children:[c.jsxs(We,{value:b.type,onValueChange:T=>{v($=>{const k=[...$];return k[w]={type:T,config:{}},k})},children:[c.jsx(_e,{id:`storageType-${w}`,children:c.jsx(ze,{placeholder:"Select storage type"})}),c.jsx(ke,{children:Ke.map(T=>c.jsx(Me,{value:T.type,children:T.label},T.type))})]}),S[`storage_${w}_type`]&&c.jsx("p",{className:"text-red-500 text-sm mt-1",children:S[`storage_${w}_type`]}),b.type&&c.jsx("div",{className:"grid gap-4 sm:grid-cols-2 mt-4",children:(A=Ke.find(T=>T.type===b.type))==null?void 0:A.fields.map(T=>{var $;return!T.hidden&&c.jsxs("div",{className:"space-y-2",children:[c.jsx(Oe,{htmlFor:`${T.name}-${w}`,children:T.label}),T.type==="select"?c.jsxs(We,{value:b.config[T.name]??"",onValueChange:k=>_(w,T.name,k),children:[c.jsx(_e,{id:`${T.name}-${w}`,children:c.jsx(ze,{placeholder:`Select ${T.label}`})}),c.jsx(ke,{children:($=T.options)==null?void 0:$.map(k=>c.jsx(Me,{value:k.value,children:k.label},k.value))})]}):c.jsx(De,{type:T.type,id:`${T.name}-${w}`,value:b.config[T.name]??"",onChange:k=>_(w,T.name,k.target.value),placeholder:T.placeholder,disabled:!!T.computed}),S[`storage_${w}_${T.name}`]&&c.jsx("p",{className:"text-red-500 text-sm",children:S[`storage_${w}_${T.name}`]})]},T.name)})})]})]},w)}),c.jsxs(we,{variant:"outline",onClick:F,className:"w-full",children:[c.jsx(Uo,{className:"mr-2 h-4 w-4"}),"Add Storage Configuration"]})]}),c.jsxs("div",{className:"flex justify-between mt-6",children:[c.jsx(we,{type:"button",onClick:z,disabled:g===0||P,children:"Previous"}),g===E.length-1?c.jsx(we,{type:"submit",disabled:P,children:P?"Creating...":"Create Backup Task"}):c.jsx(we,{type:"button",onClick:D,disabled:P,children:"Next"})]})]})})]})]})}export{yi as clientAction,xi as clientLoader,vi as default,gi as meta};

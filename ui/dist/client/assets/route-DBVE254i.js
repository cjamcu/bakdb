import{j as e}from"./router-0uN5aety.js";import{B as c}from"./button-B296d654.js";import{B as o,C as d}from"./badge-CcjedXCD.js";import{C as x,a as u,b as h,c as p,d as f}from"./card-BUhaSKxx.js";import{p as j}from"./pocketbase-BwiBgDV-.js";import{r as N}from"./requireAuth-BROCRZK-.js";import{n as b,o as a}from"./components-BFRM7CUx.js";import{c as i}from"./createLucideIcon-luw-QPq7.js";import{D as y}from"./database-BJ0OeOBJ.js";import"./utils-BAO6HRzK.js";import"./responses-BDgPukry.js";/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n=i("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g=i("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]),S=()=>[{title:"Backup Tasks"}],M=async({request:t})=>(await N(),{data:await j.collection("tasks").getFullList()});function q(){const{data:t}=b(),r=s=>{switch(s){case"Active":return"default";case"Paused":return"secondary";case"Error":return"destructive";default:return"default"}};return t.length===0?e.jsxs("div",{className:"container mx-auto p-8 flex flex-col items-center justify-center min-h-screen",children:[e.jsx(g,{className:"h-24 w-24 text-gray-400 mb-6"}),e.jsx("h2",{className:"text-3xl font-bold text-center mb-4",children:"No backup tasks yet"}),e.jsx("p",{className:"text-xl text-gray-600 text-center mb-8",children:"Start by creating your first backup task"}),e.jsx(c,{asChild:!0,children:e.jsxs(a,{to:"/tasks/new",children:[e.jsx(n,{className:"mr-2 h-4 w-4"}),"Create New Backup Task"]})})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"mb-8 flex justify-between items-center",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Backup Tasks"}),e.jsx(c,{className:"mb-4",asChild:!0,children:e.jsxs(a,{to:"/tasks/new",children:[e.jsx(n,{className:"mr-2 h-4 w-4"}),"New Backup Task"]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(s=>e.jsx(a,{to:`/tasks/${s.id}`,className:"block",prefetch:"intent",children:e.jsxs(x,{className:"w-full h-full hover:shadow-lg transition-shadow duration-300",children:[e.jsxs(u,{className:"pb-2",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx(h,{className:"text-xl font-semibold",children:s.name}),e.jsx(o,{variant:r(s.status),children:s.status})]}),e.jsxs(p,{className:"flex items-center mt-1 space-x-2",children:[e.jsx(y,{className:"mr-2 h-4 w-4"}),s.dbConfig.type,s.storageConfigs.map((l,m)=>e.jsxs("span",{className:"flex items-center",children:[e.jsx(d,{className:"mr-2 h-4 w-4"}),l.type]},m))]})]}),e.jsxs(f,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Last backup"}),e.jsxs("span",{className:"text-sm font-medium",children:["  ",s.lastBackup?new Date(s.lastBackup).toLocaleString():"N/A"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Next backup"}),e.jsxs("span",{className:"text-sm font-medium",children:[" ",s.status==="Active"?new Date(s.nextBackup).toLocaleString():"N/A"]})]})]})]})},s.id))})]})}export{M as clientLoader,q as default,S as meta};
